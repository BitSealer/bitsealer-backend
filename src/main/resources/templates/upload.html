<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security6">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BitSealer Â· Calcular hash</title>

  <!--  ðŸ’Ž  Estilos minimalistas â€” solo CSS incrustado  -->
  <style>
    :root{
      --bg:#f4f6f7;
      --brand:#1e88e5;
      --brand-dark:#1669b5;
      --text:#333;
      --radius:10px;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}
    body{min-height:100vh;background:var(--bg);display:flex;flex-direction:column}
    /* â”€â”€â”€â”€â”€ Header â”€â”€â”€â”€â”€ */
    .nav{
      background:var(--brand);color:#fff;padding:.8rem 1.2rem;
      display:flex;justify-content:space-between;align-items:center;
      box-shadow:0 2px 6px rgba(0,0,0,.1)
    }
    .nav h1{font-size:1.3rem;letter-spacing:.5px}
    .nav .user{
      font-size:.9rem;opacity:.9
    }
    /* â”€â”€â”€â”€â”€ Card â”€â”€â”€â”€â”€ */
    .container{
      flex:1;display:flex;justify-content:center;align-items:center;padding:1rem
    }
    .card{
      background:#fff;max-width:420px;width:100%;padding:2rem;border-radius:var(--radius);
      box-shadow:0 4px 12px rgba(0,0,0,.08);color:var(--text)
    }
    .card h2{text-align:center;margin-bottom:1.6rem;font-size:1.4rem}
    .form-group{margin-bottom:1.2rem}
    label{display:block;margin-bottom:.4rem;font-weight:500}
    input[type=file]{width:100%;padding:.45rem}
    input[type=file]::file-selector-button{
      border:none;background:var(--brand);color:#fff;padding:.45rem 1rem;border-radius:6px;cursor:pointer;transition:.2s}
    input[type=file]::file-selector-button:hover{background:var(--brand-dark)}
    button{
      width:100%;padding:.65rem 0;border:none;border-radius:6px;
      background:var(--brand);color:#fff;font-size:1rem;cursor:pointer;transition:.2s}
    button:hover{background:var(--brand-dark)}
    .result{
      margin-top:1.6rem;padding:1rem;border:1px solid #e0e0e0;border-radius:var(--radius);
      background:#fafafa;word-break:break-all
    }
    code{background:#e7eef5;padding:.2rem .4rem;border-radius:4px}
  </style>
</head>
<body>

  <!-- â•­â”€ Barra superior con tÃ­tulo + usuario â”€â•® -->
  <header class="nav">
    <h1>BitSealer</h1>
    <span class="user" sec:authorize="isAuthenticated()">
      SesiÃ³n: <strong sec:authentication="name"></strong>
    </span>
  </header>

  <!-- â•­â”€ Contenido centrado â”€â•® -->
  <main class="container">
    <section class="card">
      <h2>Calcular hash SHA-256</h2>

      <form th:action="@{/upload}" method="post" enctype="multipart/form-data">
        <div class="form-group">
          <label for="fileInput">Selecciona un archivo</label>
          <input id="fileInput" name="file" type="file" required />
        </div>
        <button type="submit">Subir y calcular</button>
      </form>

      <!-- Resultado -->
      <div class="result" th:if="${hash != null}">
        <p><strong>Hash:</strong> <code th:text="${hash}">valor-hash</code></p>
      </div>
    </section>
  </main>

</body>
</html>
