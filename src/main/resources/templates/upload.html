<!-- templates/upload.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:with="activePage='upload'"
      th:replace="~{layout/main :: layout(
          title        = 'Subir archivo',
          page_content = ~{::#content},
          head_extra   = ~{::#head_extra},
          body_end     = ~{::#body_end},
          activePage   = ${activePage}
      )}">

<!-- Bloque opcional de CSS extra -->
<th:block id="head_extra" th:fragment="head_extra"></th:block>

<body>
  <div id="content" th:fragment="page_content" class="p-4">

    <h1 class="h3 mb-4 text-gray-800">
      <i class="fas fa-file-upload"></i> Subir archivo
    </h1>

    <a th:href="@{/history}" class="btn btn-info mb-3">
      <i class="fas fa-history fa-sm"></i> Ver historial
    </a>

    <div class="card shadow mb-4">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">
          <i class="fas fa-upload fa-sm"></i> Subir un archivo
        </h6>
      </div>

      <div class="card-body">
        <p>
          Seleccione un archivo y pulse <strong>Subir</strong> para calcular y guardar su hash.
        </p>

        <form th:action="@{/upload}" method="post" enctype="multipart/form-data">
          <div class="form-group">
            <label for="fileInput">Archivo</label>
            <input id="fileInput" class="form-control" type="file" name="file" required>
          </div>

          <button class="btn btn-primary">
            <i class="fas fa-upload fa-sm"></i> Subir
          </button>
        </form>

        <div th:if="${hash}" class="alert alert-info mt-3">
          <strong>Hash SHA-256:</strong>
          <code th:text="${hash}" style="word-break:break-all;"></code>
        </div>
      </div>
    </div>
  </div>

  <!-- Bloque opcional de JS extra -->
  <th:block id="body_end" th:fragment="body_end"></th:block>
</body>
</html>
